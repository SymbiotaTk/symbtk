var App=App||{};
App.Html=function(){let c=function(e,a,b){let f=document.createElement(e);void 0!=a&&Object.keys(a).map(function(h,l){f.setAttribute(h,a[h])});f=f.cloneNode(!1);void 0!=b&&(f.innerHTML=b);return f},d=function(e,a,b){return c(e,a,b)},g=function(e,a,b){var f=void 0!=b.tag?b.tag:"input";let h=void 0!=b.type?b.type:"text";delete b.tag;var l=void 0!=b.id?b.id:a;void 0==b.id&&(b.id=a);void 0!=b.label&&(a=b.label,delete b.label);l=d("label",{for:l},a);a="";"textarea"===f&&b.value&&(a=b.value,delete b.value);
f=c(f,b,a);"checkbox"===h&&b.value&&"1"===b.value&&(f.checked=!0);e.appendChild(l);e.appendChild(f);return e},k=function(e,a,b){delete b.tag;let f=void 0!=b.id?b.id:a;void 0==b.id&&(b.id=a);void 0!=b.label&&(a=b.label,delete b.label);a=d("label",{for:f},a);let h=d("select",{id:f,class:"_width100"});void 0!=b.options&&Object.keys(b.options).map(function(l,t){l=d("option",{value:l},b.options[l]);h.appendChild(l)});b.value&&(h.value=b.value);a.appendChild(h);e.appendChild(a);return e},n=function(e){Object.keys(e).map(function(a){!1===
e[a]&&delete e[a]});return e},r=function(e=6){return d("div",{class:"col m"+e})};return{Clear:function(e){void 0!=e&&(e.innerHTML="")},Delete:function(e){void 0!=e&&(e.outerHTML="")},Markup:c,node_appendChildById:function(e,a){return(e=document.getElementById(e))&&a?e.appendChild(a):!1},node_replace_class:function(e,a,b){if("undefined"!=typeof e.classList)return e.classList.remove(a),e.classList.add(b),e;e.className.match(/(?:^|\s)find(?!\S)/)&&(e.className=e.className.replace(/(?:^|\s)find(?!\S)/g,
b));return e},node_insert_after:function(e,a){a.parentNode.insertBefore(e,a.nextSibling)},m:d,Render:function(e){let a=e.config,b=e.parent;e.layout.forEach(function(f){let h=d("div",{class:"row"});Object.keys(f).forEach(function(l){var t=h,q=e.data,p=a.elements[f[l]],u=r(3);if(void 0!==p.tag){switch(p.tag){case "input":u=g(u,key,value);break;case "textarea":u=g(u,key,value);break;case "select":u=k(u,key,value);break;case "button":var v=!1;let w=!1,x=!1,y=void 0!==p.value?p.value:"";delete p.value;
void 0!==p.listener&&(v=!0,w=p.listener[0],x=p.listener[1],delete p.listener);delete p.tag;p=c("button",p,l);p.innerHTML=str_replace_map(q,y);v&&p.addEventListener(w,x);t.appendChild(p);break;default:q=void 0!==p.value?str_replace_map(q,p.value):"",delete p.value,v=p.tag,delete p.tag,u.appendChild(d(v,n(p),q))}t.appendChild(u)}h=t});b.appendChild(h)})},set_title:function(e){document.getElementsByTagName("title")[0].innerHTML=e}}}();App=App||{};
App.Http=function(){let c=function(){return"undefined"!==typeof window?window.location.href:!1},d=function(){let a={};c().replace(window.location.hash,"").replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,f,h){a[f]=h});new URL(document.location.href);return a},g=function(){return location.toString().replace(location.search,"").replace(location.hash,"")},k=function(a){let b=a.replace(/\/$/,"");var f=b.split("/");f.pop();f=""==f.join("/")?"/":f.join("/");return a.length==b.length?f:"/"==f?f:f+"/"},n=function(){let a=
{url:c(),base:g(),protocol:window.location.protocol,domain:window.location.hostname,port:window.location.port?window.location.port:"",params:d(),hash:window.location.hash?window.location.hash:!1,query:window.location.search?window.location.search:!1},b=a.url.replace(a.base,"").replace("?","").split("&")[0],f=a.url.replace(a.hash,"");a.offset=a.base.replace(a.protocol+"//"+a.domain,"");a.offset=""!==a.port?a.offset.replace(":"+a.port,""):a.offset;let h=a.offset+f.replace(a.base,"");a.query_delim="?/";
a.resource=b.split("/")[1];a.resource_url=a.offset+a.query_delim+a.resource;a.offset_parent=k(a.offset);a.append=function(l){return h+l};a.append_subdir=function(l){let t="/"===h.substr(-1)?h.substr(0,h.length-1):h;l="/"===l.substr(0)?l.substr(1,l.length):l;return[t,l].join("/")};a.plugin=b;a.url_no_hash=f;a.endpoint=h;return a},r=function(a){return void 0!=n().params[a]?!0:!1},e=function(a){a=a?a:{};let b={};b.endpoint=void 0!=a.endpoint?a.endpoint:!1;b.data=void 0!=a.data?a.data:!1;b.format=void 0!=
a.format?a.format:!1;b.callback=void 0!=a.callback?a.callback:!1;return b};return{Info:n,Href:c,Base:g,Params:d,unset_param:function(a,b){let f=n();if(void 0!=f.params[b]){let h="&"+b+"="+f.params[b];a.replace(h,"");h="?"+b+"="+f.params[b];return a.replace(h,"")}return a},get_param:function(a){let b=n();return r(a)?b.params[a]:!1},has_param:r,has_param_value:function(a,b){let f=n();return void 0!=f.params[a]&&f.params[a]===b?!0:!1},is_plugin:function(){return""!==n().plugin?!0:!1},encode_query:function(a){const b=
[];for(let f in a)b.push(encodeURIComponent(f)+"="+encodeURIComponent(a[f]));return b.join("&")},request_params:e,request_promise:function(a,b,f="POST"){let h=e(b);return new Promise((l,t)=>{let q=new XMLHttpRequest;q.open(f,h.endpoint,!0);q.setRequestHeader("Content-Type","application/json");q.onerror=()=>t(q.statusText);q.onload=()=>{200<=q.status&&300>q.status?l(q.response):t(q.statusText)};q.send(h.data)})},Request:function(a,b,f="POST"){let h=e(b),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==
this.readyState&&200==this.status)return h.callback(h.format(a,b,this.responseText))};l.open(f,h.endpoint,!0);l.setRequestHeader("Content-Type","application/json");l.send(h.data)}}}();App=App||{};Object.size=function(c){var d=0,g;for(g in c)c.hasOwnProperty(g)&&d++;return d};String.format||(String.format=function(c){var d=Array.prototype.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(g,k){return"undefined"!=typeof d[k]?d[k]:g})});
App.Util=function(){isFunction=function(c){return"function"===typeof window[c]};isObject=c=>"[object Object]"===Object.prototype.toString.call(c);str_replace_map=(c,d)=>{if("string"!==typeof d)return d;Object.keys(c).map(g=>d=str_replace(d,g,c[g]));return d};str_replace=(c,d,g)=>"string"!==typeof c?c:c.replace(new RegExp("%{"+d+"}","g"),g);merge=(...c)=>{let d={};for(let k=0;k<c.length;k++){var g=c[k];for(let n in g)g.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(g[n])?d[n]=
merge(d[n],g[n]):d[n]=g[n])}return d};call_function_by_name=function(c,d){return eval(c)(d)};copy=function(c){return merge(c)};ucfirst=function(c){return c.charAt(0).toUpperCase()+c.slice(1)};keyvalues=function(c,d){d=[];for(let g in c)c[g].hasOwnProperty("value")&&(d[ucfirst(g)]=c[g].value);return d};executeByName=function(c,d){var g,k;null==d&&(d=window);var n=Array.prototype.slice.call(arguments,2);var r=c.replace(/[\]'"]/g,"").replace(/\[/g,".").split(".");var e=d;var a=g=0;for(k=r.length;g<k;a=
++g)a=r[a],e=e[a];r.pop();a=g=0;for(k=r.length;g<k;a=++g)a=r[a],d=d[a];if("function"!==typeof e)throw new TypeError("Cannot execute function "+c);return e.apply(d,n)};return{call_function_by_name,copy,executeByName,isFunction,isObject,keyvalues,merge,str_replace_map,str_replace,ucfirst}}();App=App||{};App.Model=function(){return{hold:function(){return!0}}}();App=App||{};App.Resource=function(){return{hold:function(){return!0}}}();App=App||{};App.Form=function(){return{hold:function(){return!0}}}();App=App||{};App.Build=function(){return{refreshOff:function(){return!0},refreshOn:function(c){setTimeout(function(){location.reload()},void 0!=c?c:16E3)}}}();let o={version:"ae1g20e"},div=document.getElementById("post-content"),m=App.Html.Markup,Callback_Data=function(c){if(void 0!==c.data&&"plugin"===c.mode){div.innerHTML="";let d=m("ul");c.data.forEach(function(g){let k=m("li");k.innerHTML=g;"fdex"===g&&k.addEventListener("click",Call_Fdex);d.appendChild(k)});div.appendChild(d)}if(void 0!==c.data&&"select"===c.mode){div.innerHTML="";let d=m("select"),g=m("option");g.value="";g.innerHTML="";d.appendChild(g);Object.keys(c.data).forEach(function(k){let n=
m("option"),r=c.data[k];n.value=k;n.innerHTML=r+"("+k+")";d.appendChild(n)});d.addEventListener("change",Call_Fdex_Select);div.appendChild(d)}},Load_Data=function(c){_Call(c,Callback_Data)},Callback_Fdex=function(c){console.log(c)},Call_Fdex_Select=function(c){console.log(c);let d=App.Http.Info();d.endpoint=App.Http.unset_param(d.endpoint,"collid");c=c.target.value;""!==c&&window.location.assign(d.endpoint+"&collid="+c)},Call_Fdex=function(c){let d=App.Http.Info();d.endpoint=App.Http.unset_param(d.endpoint,
"plugin");window.location.assign(d.endpoint+"?plugin=fdex");_Call(c,Callback_Fdex)},_Call=function(c,d){let g=App.Http.Info(),k=App.Http.request_params();k.endpoint=g.endpoint;k.callback=d;k.format=function(n,r,e){return JSON.parse(e)};k.data=JSON.stringify(g.params);App.Http.Request(c,k)};
