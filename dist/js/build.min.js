var App=App||{};
App.Html=function(){let c=function(a,b,d){let g=document.createElement(a);void 0!=b&&Object.keys(b).map(function(k,p){g.setAttribute(k,b[k])});g=g.cloneNode(!1);void 0!=d&&(g.innerHTML=d);return g},e=function(a,b,d){return c(a,b,d)},f=function(a,b,d){var g=void 0!=d.tag?d.tag:"input";let k=void 0!=d.type?d.type:"text";delete d.tag;var p=void 0!=d.id?d.id:b;void 0==d.id&&(d.id=b);void 0!=d.label&&(b=d.label,delete d.label);p=e("label",{for:p},b);b="";"textarea"===g&&d.value&&(b=d.value,delete d.value);
g=c(g,d,b);"checkbox"===k&&d.value&&"1"===d.value&&(g.checked=!0);a.appendChild(p);a.appendChild(g);return a},h=function(a,b,d){delete d.tag;let g=void 0!=d.id?d.id:b;void 0==d.id&&(d.id=b);void 0!=d.label&&(b=d.label,delete d.label);b=e("label",{for:g},b);let k=e("select",{id:g,class:"_width100"});void 0!=d.options&&Object.keys(d.options).map(function(p,q){p=e("option",{value:p},d.options[p]);k.appendChild(p)});d.value&&(k.value=d.value);b.appendChild(k);a.appendChild(b);return a},n=function(a){Object.keys(a).map(function(b){!1===
a[b]&&delete a[b]});return a},r=function(a=6){return e("div",{class:"col m"+a})};return{Clear:function(a){void 0!=a&&(a.innerHTML="")},Delete:function(a){void 0!=a&&(a.outerHTML="")},Markup:c,node_appendChildById:function(a,b){return(a=document.getElementById(a))&&b?a.appendChild(b):!1},node_replace_class:function(a,b,d){if("undefined"!=typeof a.classList)return a.classList.remove(b),a.classList.add(d),a;a.className.match(/(?:^|\s)find(?!\S)/)&&(a.className=a.className.replace(/(?:^|\s)find(?!\S)/g,
d));return a},node_insert_after:function(a,b){b.parentNode.insertBefore(a,b.nextSibling)},m:e,Render:function(a){let b=a.config,d=a.parent;a.layout.forEach(function(g){let k=e("div",{class:"row"});Object.keys(g).forEach(function(p){var q=k,u=a.data,l=b.elements[g[p]],t=r(3);if(void 0!==l.tag){switch(l.tag){case "input":t=f(t,key,value);break;case "textarea":t=f(t,key,value);break;case "select":t=h(t,key,value);break;case "button":var v=!1;let w=!1,x=!1,y=void 0!==l.value?l.value:"";delete l.value;
void 0!==l.listener&&(v=!0,w=l.listener[0],x=l.listener[1],delete l.listener);delete l.tag;l=c("button",l,p);l.innerHTML=str_replace_map(u,y);v&&l.addEventListener(w,x);q.appendChild(l);break;default:u=void 0!==l.value?str_replace_map(u,l.value):"",delete l.value,v=l.tag,delete l.tag,t.appendChild(e(v,n(l),u))}q.appendChild(t)}k=q});d.appendChild(k)})},set_title:function(a){document.getElementsByTagName("title")[0].innerHTML=a}}}();App=App||{};
App.Http=function(){let c=function(){return"undefined"!==typeof window?window.location.href:!1},e=function(){let a={};c().replace(window.location.hash,"").replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,d,g){a[d]=g});new URL(document.location.href);return a},f=function(){return location.toString().replace(location.search,"").replace(location.hash,"")},h=function(){let a={url:c(),base:f(),protocol:window.location.protocol,domain:window.location.hostname,port:window.location.port?window.location.port:"",
params:e(),hash:window.location.hash?window.location.hash:!1,query:window.location.search?window.location.search:!1},b=a.url.replace(a.base,"").replace("?","").split("&")[0],d=a.url.replace(a.hash,"");a.offset=a.base.replace(a.protocol+"//"+a.domain,"");a.offset=""!==a.port?a.offset.replace(":"+a.port,""):a.offset;let g=a.offset+d.replace(a.base,"");a.query_delim="?/";a.resource=b.split("/")[1];a.resource_url=a.offset+a.query_delim+a.resource;a.append=function(k){return g+k};a.append_subdir=function(k){let p=
"/"===g.substr(-1)?g.substr(0,g.length-1):g;k="/"===k.substr(0)?k.substr(1,k.length):k;return[p,k].join("/")};a.plugin=b;a.url_no_hash=d;a.endpoint=g;return a},n=function(a){return void 0!=h().params[a]?!0:!1},r=function(a){a=a?a:{};let b={};b.endpoint=void 0!=a.endpoint?a.endpoint:!1;b.data=void 0!=a.data?a.data:!1;b.format=void 0!=a.format?a.format:!1;b.callback=void 0!=a.callback?a.callback:!1;return b};return{Info:h,Href:c,Base:f,Params:e,unset_param:function(a,b){let d=h();if(void 0!=d.params[b]){let g=
"&"+b+"="+d.params[b];a.replace(g,"");g="?"+b+"="+d.params[b];return a.replace(g,"")}return a},get_param:function(a){let b=h();return n(a)?b.params[a]:!1},has_param:n,has_param_value:function(a,b){let d=h();return void 0!=d.params[a]&&d.params[a]===b?!0:!1},is_plugin:function(){return""!==h().plugin?!0:!1},encode_query:function(a){const b=[];for(let d in a)b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return b.join("&")},request_params:r,request_promise:function(a,b,d="POST"){let g=r(b);
return new Promise((k,p)=>{let q=new XMLHttpRequest;q.open(d,g.endpoint,!0);q.setRequestHeader("Content-Type","application/json");q.onerror=()=>p(q.statusText);q.onload=()=>{200<=q.status&&300>q.status?k(q.response):p(q.statusText)};q.send(g.data)})},Request:function(a,b,d="POST"){let g=r(b),k=new XMLHttpRequest;k.onreadystatechange=function(){if(4==this.readyState&&200==this.status)return g.callback(g.format(a,b,this.responseText))};k.open(d,g.endpoint,!0);k.setRequestHeader("Content-Type","application/json");
k.send(g.data)}}}();App=App||{};Object.size=function(c){var e=0,f;for(f in c)c.hasOwnProperty(f)&&e++;return e};String.format||(String.format=function(c){var e=Array.prototype.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(f,h){return"undefined"!=typeof e[h]?e[h]:f})});
App.Util=function(){isFunction=function(c){return"function"===typeof window[c]};isObject=c=>"[object Object]"===Object.prototype.toString.call(c);str_replace_map=(c,e)=>{if("string"!==typeof e)return e;Object.keys(c).map(f=>e=str_replace(e,f,c[f]));return e};str_replace=(c,e,f)=>"string"!==typeof c?c:c.replace(new RegExp("%{"+e+"}","g"),f);merge=(...c)=>{let e={};for(let h=0;h<c.length;h++){var f=c[h];for(let n in f)f.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(f[n])?e[n]=
merge(e[n],f[n]):e[n]=f[n])}return e};call_function_by_name=function(c,e){return eval(c)(e)};copy=function(c){return merge(c)};ucfirst=function(c){return c.charAt(0).toUpperCase()+c.slice(1)};keyvalues=function(c,e){e=[];for(let f in c)c[f].hasOwnProperty("value")&&(e[ucfirst(f)]=c[f].value);return e};executeByName=function(c,e){var f,h;null==e&&(e=window);var n=Array.prototype.slice.call(arguments,2);var r=c.replace(/[\]'"]/g,"").replace(/\[/g,".").split(".");var a=e;var b=f=0;for(h=r.length;f<h;b=
++f)b=r[b],a=a[b];r.pop();b=f=0;for(h=r.length;f<h;b=++f)b=r[b],e=e[b];if("function"!==typeof a)throw new TypeError("Cannot execute function "+c);return a.apply(e,n)};return{call_function_by_name,copy,executeByName,isFunction,isObject,keyvalues,merge,str_replace_map,str_replace,ucfirst}}();App=App||{};App.Model=function(){return{hold:function(){return!0}}}();App=App||{};App.Resource=function(){return{hold:function(){return!0}}}();App=App||{};App.Form=function(){return{hold:function(){return!0}}}();App=App||{};App.Build=function(){return{refreshOff:function(){return!0},refreshOn:function(c){setTimeout(function(){location.reload()},void 0!=c?c:16E3)}}}();let o={version:"ae1g20e"},div=document.getElementById("post-content"),m=App.Html.Markup,Callback_Data=function(c){if(void 0!==c.data&&"plugin"===c.mode){div.innerHTML="";let e=m("ul");c.data.forEach(function(f){let h=m("li");h.innerHTML=f;"fdex"===f&&h.addEventListener("click",Call_Fdex);e.appendChild(h)});div.appendChild(e)}if(void 0!==c.data&&"select"===c.mode){div.innerHTML="";let e=m("select"),f=m("option");f.value="";f.innerHTML="";e.appendChild(f);Object.keys(c.data).forEach(function(h){let n=
m("option"),r=c.data[h];n.value=h;n.innerHTML=r+"("+h+")";e.appendChild(n)});e.addEventListener("change",Call_Fdex_Select);div.appendChild(e)}},Load_Data=function(c){_Call(c,Callback_Data)},Callback_Fdex=function(c){console.log(c)},Call_Fdex_Select=function(c){console.log(c);let e=App.Http.Info();e.endpoint=App.Http.unset_param(e.endpoint,"collid");c=c.target.value;""!==c&&window.location.assign(e.endpoint+"&collid="+c)},Call_Fdex=function(c){let e=App.Http.Info();e.endpoint=App.Http.unset_param(e.endpoint,
"plugin");window.location.assign(e.endpoint+"?plugin=fdex");_Call(c,Callback_Fdex)},_Call=function(c,e){let f=App.Http.Info(),h=App.Http.request_params();h.endpoint=f.endpoint;h.callback=e;h.format=function(n,r,a){return JSON.parse(a)};h.data=JSON.stringify(f.params);App.Http.Request(c,h)};
